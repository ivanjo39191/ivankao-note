# Transmission Control Protocol TCP/IP Model

Created: March 29, 2022 9:38 PM  
Property: Ivan Kao  
Status: 已公開  
Tags: OS  

## 簡介

**網際網路協議套組**（英語：Internet Protocol Suite，縮寫IPS）是網路通訊模型。為網際網路的基礎通訊架構。

它常通稱為TCP/IP協定套組（英語：Transmission Control Protocol / Internet Protocol（TCP/IP）)。

TCP/IP提供了點對點連結的機制，將資料應該如何封裝、定址、傳輸、路由以及在目的地如何接收，都加以標準化。它將軟體通訊過程抽象化為四個抽象層，採取協定堆疊的方式，分別實作出不同通訊協定。協定套組下的各種協定，依其功能不同，分別歸屬到這四個階層之中，常視為是簡化的七層OSI模型。

## 什麼是 TCP ?

TCP 代表傳輸控制協議，一種使應用程序和計算設備能夠通過網絡交換訊息的通信標準。通過 Internet 發送資料包，並確保通過網絡成功傳輸資料和訊息。

TCP 是定義 Internet 規則的基本標準之一，包含在網際網路工程任務組 (IETF) 定義的標準中。它是數字網絡通信中最常用的協議之一，可確保端到端的資料傳輸。

TCP 組織資料以便它可以在服務器和客戶端之間傳輸。它保證了通過網絡傳輸的資料的完整性。在傳輸資料之前，TCP 會在源和目標之間建立連接，以確保在通信開始之前保持連接。然後它將大量資料分解成更小的資料包，同時確保整個過程中的資料完整性。

TCP 協議是需要傳輸資料的高級協議都會使用的 。包括點對點共享方法，如文件傳輸協議 (FTP)、Secure Shell (SSH) 和 Telnet。它還用於通過 Internet 訊息訪問協議 (IMAP)、郵局協議 (POP) 和簡單郵件傳輸協議 (SMTP) 發送和接收電子郵件，以及通過超文本傳輸協議 (HTTP)進行 Web 訪問。

TCP 的替代方案是用戶資料報協議 (UDP)，它用於在應用程序之間建立低延遲連接並減少傳輸時間。TCP 可能是一種昂貴的網絡工具，因為它包含缺失或損壞的資料包，並通過確認、連接啟動和流量控制等控制來保護資料傳遞。

UDP 不提供錯誤連接或資料包排序，也不在傳送資料之前通知目的地，這使得它不太可靠但成本較低。因此，它對於時間敏感的情況是一個不錯的選擇，例如域名系統 (DNS)查找、網際網路協議語音 (VoIP) 和流媒體。

## 什麼是 IP ?

網路網路協議 (IP) 是通過網際網路將資料從一台設備發送到另一台設備的方法。每個設備都有一個唯一標識它的 IP 地址，並使其能夠與連接到 Internet 的其他設備進行通信和交換資料。

IP 負責定義應用程序和設備如何相互交換資料包。它是負責在單個網絡或多個 Internet 連接網絡上的計算機之間交換資料和訊息的格式和規則的主要通信協議。它通過 Internet 協議套件 (TCP/IP) 實現這一點，這是一組分為四個抽象層的通信協議。

IP 是 TCP/IP 的 Internet 層內的主要協議。其主要目的是使用在資料包中放置標籤（例如地址訊息）的方法和結構在源應用程序或設備與目標之間傳遞資料包。

## **TCP 與 IP：有什麼區別？**

TCP 和 IP 是單獨的協議，它們協同工作以確保將資料傳遞到網絡中的預期目的地。

IP 獲取並定義資料發送到的應用程序或設備的地址（IP 地址）。

TCP 負責通過網絡架構傳輸和路由數據，並確保將其傳遞到 IP 定義的目標應用程序或設備。

換句話說，IP 地址類似於分配給手機的電話號碼。TCP 是用於使手機響鈴並使其用戶能夠與呼叫他們的人交談的技術的電腦網絡版本。這兩種協議經常一起使用，並且相互依賴以使資料有目的地並安全地到達目的地，這就是該過程通常稱為 TCP/IP 的原因。

## **TCP/IP 如何工作？**

TCP/IP 模型是 Internet 上資料通信的默認方法。它由美國國防部開發，旨在實現設備之間準確和正確的資料傳輸。它將訊息分成資料包以避免在傳輸過程中遇到問題時必須重新發送整個訊息。資料包到達目的地後會自動重組。每個資料包都可以在源電腦和目標電腦之間採用不同的路由，具體取決於使用的原始路由是否變得擁塞或不可用。

TCP/IP 將通信任務劃分為保持流程標準化的層，而無需硬體和軟體提供商自己進行管理。資料包在被目標設備接收之前必須經過四層，然後 TCP/IP 以相反的順序通過這些層將訊息恢復為原始格式。

作為基於連接的協議，TCP 在應用程序或設備之間建立並維護連接，直到它們完成資料交換。它決定如何將原始訊息分解為資料包、編號和重組資料包，然後將它們發送到網絡上的其他設備，例如路由器、安全網關和交換機，然後再發送到它們的目的地。TCP 還從網絡層發送和接收資料包，處理任何丟棄資料包的傳輸，管理流量控制，並確保所有資料包到達目的地。

在實踐中如何使用的一個很好的例子是使用 SMTP 從電子郵件服務器發送電子郵件。為了開始這個過程，服務器中的 TCP 層將訊息分成資料包，對它們進行編號，然後將它們轉發到 IP 層，然後 IP 層將每個資料包傳輸到目標電子郵件服務器。當資料包到達時，它們被交回 TCP 層以重新組合成原始訊息格式並交回電子郵件服務器，電子郵件服務器將訊息傳遞到用戶的電子郵件收件箱。

TCP/IP 使用三次握手在設備和服務器之間建立連接，從而確保多個 TCP 套接字連接可以同時雙向傳輸。設備和服務器都必須在通訊開始之前同步和確認資料包，然後它們才能協商、分離和傳輸 TCP 套接字連接。

## **TCP/IP 模型的 4 層**

相較於OSI參考模型將網路的功能分成七個層次，TCP/IP參考模型則是分成下列四個層次，雖然簡化為四個層次，但它並不是去除OSI參考模型的某些層次，而是將功能類似的層次合併，包括將應用層、表達層及會議層合併為應用層，保留傳輸層和網路層，將實體層及資料連結層合併為連結層。

TCP/IP 模型定義了設備應如何在它們之間傳輸資料並實現網絡和遠距離通信。該模型表示資料如何通過網絡進行交換和組織。它們設定了資料交換的標準，並代表了在應用程序、設備和服務器之間傳遞資料時如何處理和打包資料。TCP/IP模型的四層如下：

### 資料連結層 Link Layer

資料連結層定義了資料應該如何發送，處理發送和接收資料的物理行為，並負責在網絡上的應用程序或設備之間傳輸資料。這包括定義如何通過網絡上的硬體和其他傳輸設備（例如電腦的設備驅動程序、以太網電纜、網絡接口卡 (NIC) 或無線網絡）發送資料信號。它也被稱為資料層、網絡接入層、網絡介面層或實體層，是 OSI 模型的實體層和資料連結層的組合，它標準化了計算和電信上的通信功能系統。

### 網際網路層 Network Layer

網際網路層負責從網絡發送資料包並控制它們在網絡中的移動，以確保它們到達目的地。它提供了跨網絡在應用程序和設備之間傳輸資料序列的功能和過程。

### 傳輸層 Transport Layer

傳輸層負責在原始應用程序或設備與其預期目的地之間提供穩固可靠的資料連接。這是將資料劃分為資料包並編號以創建序列的級別。然後，傳輸層確定發送多少資料、應該發送到哪里以及以什麼速率發送。它確保資料包按順序無誤發送，並獲得目的設備已收到資料包的確認。

### 應用層 Application Layer

應用層是指需要 TCP/IP 來幫助它們相互通信的程序。這是用戶通常與之交互的級別，例如電子郵件系統和訊息傳遞平台。它結合了 OSI 模型的會議、展示和應用層。

## **OSI模型與TCP/IP模型的差別**

- 相同
    - OSI模型與TCP/IP模型都採用階層式結構的概念
    - 都能提供TCP Protocol和UDP Protocol這兩種通訊服務機制
- 不同
    - OSI是七層的結構，而TCP/IP則是四層的結構
    - 對可靠性要求不同，TCP/IP模型要求更高
    - OSI模型是在協議開發之前設計的，因此具有通用性；而TCP/IP模型則是在協議已有的情況下建立的，因此不適用於非TCP/IP網路
    - OSI模型只是理論上的模型，並沒有成熟的產品支持，而TCP/IP模型則已經是「國際標準」
    

## 參考資料

[https://zh.wikipedia.org/wiki/TCP/IP协议族](https://zh.wikipedia.org/wiki/TCP/IP%E5%8D%8F%E8%AE%AE%E6%97%8F)

[https://www.fortinet.com/tw/resources/cyberglossary/tcp-ip](https://www.fortinet.com/tw/resources/cyberglossary/tcp-ip)

[https://ithelp.ithome.com.tw/articles/10234845](https://ithelp.ithome.com.tw/articles/10234845)